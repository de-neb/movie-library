(window.webpackJsonp=window.webpackJsonp||[]).push([[9,5,7],{208:function(t,e,n){"use strict";n.r(e);n(81);var r={props:["rating","movieId"],beforeUpdate:function(){var t=document.querySelector("span.stars"),e="".concat(this.rating/10*100,"%");t.style.background="linear-gradient(90deg,#fdb93c ".concat(e,",#fff ").concat(e,")")},mounted:function(){if(this.movieId){var t=document.getElementById(this.movieId+"-rating"),e="".concat(this.rating/10*100,"%");t.style.background="linear-gradient(90deg,#fdb93c ".concat(e,",#fff ").concat(e,")")}}},o=n(23),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"stars-wrapper"},[n("span",{staticClass:"visually-hidden"},[t._v(t._s(t.rating))]),t._v(" "),n("span",{staticClass:"stars",attrs:{id:t.movieId+"-rating"}},[t._v("★★★★★")])])])}),[],!1,null,null,null);e.default=component.exports},209:function(t,e,n){"use strict";n.r(e);var r={props:["current-page","total-pages"],data:function(){return{pageNum:1,numList:[]}},methods:{nextPage:function(){this.pageNum=this.currentPage+1,this.$emit("next-page",this.pageNum)},previousPage:function(){this.pageNum=this.currentPage-1,this.$emit("previous-page",this.pageNum)},jumpToPage:function(){(this.pageNum<1||this.pageNum>this.totalPages)&&(new bootstrap.Modal(document.getElementById("pageNumErrorModal"),{keyboard:!1}).toggle(),this.pageNum=this.numList[0]);this.$emit("jump-to-page",this.pageNum),this.numList=[]}},watch:{pageNum:function(t,e){this.numList.push(e)}}},o=n(23),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"row d-flex align-items-center text-center"},[n("div",{staticClass:"col-2"},[n("button",{staticClass:"\n          btn btn-dark\n          d-flex\n          justify-content-center\n          w-100\n          px-3\n          rounded-circle\n        ",class:{disabled:1===t.currentPage},on:{click:t.previousPage}},[n("span",{staticClass:"material-icons text-warning"},[t._v(" navigate_before ")])])]),t._v(" "),n("div",{staticClass:"col-8"},[n("h6",{staticClass:"m-0"},[t._v("\n        Page\n        "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.pageNum,expression:"pageNum",modifiers:{number:!0}}],ref:"pageNum",attrs:{type:"number",id:"page-num"},domProps:{value:t.pageNum},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.jumpToPage.apply(null,arguments)},input:function(e){e.target.composing||(t.pageNum=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),t._v(t._s(" of "+t.totalPages)+"\n      ")])]),t._v(" "),n("div",{staticClass:"col-2"},[n("button",{staticClass:"\n          btn btn-dark\n          d-flex\n          justify-content-center\n          w-100\n          px-3\n          rounded-circle\n        ",class:{disabled:t.currentPage===t.totalPages},on:{click:t.nextPage}},[n("span",{staticClass:"material-icons text-warning"},[t._v(" navigate_next ")])])])]),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"modal fade",attrs:{id:"pageNumErrorModal",tabindex:"-1","aria-hidden":"true"}},[n("div",{staticClass:"modal-dialog"},[n("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),n("div",{staticClass:"modal-body"},[t._v("\n            Page number should only be from 1 to\n            "+t._s(t.totalPages)+"\n          ")])])])])])])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title text-dark",attrs:{id:"error-header"}},[t._v("\n              Requested page doesn't exist!\n            ")]),t._v(" "),n("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})])}],!1,null,null,null);e.default=component.exports},210:function(t,e,n){t.exports=n.p+"img/no poster.0419112.png"},214:function(t,e,n){var content=n(224);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(46).default)("05a5b466",content,!0,{sourceMap:!1})},223:function(t,e,n){"use strict";n(214)},224:function(t,e,n){var r=n(45)(!1);r.push([t.i,".row[data-v-0e519681]{margin-top:50px!important}h5[data-v-0e519681]{font-weight:700}.container[data-v-0e519681]{min-height:100vh!important}",""]),t.exports=r},229:function(t,e,n){"use strict";n.r(e);var r=n(5),o=(n(35),n(47),n(12),n(32),n(81),n(82),{validate:function(t){var e=t.params;return["popular","top_rated","upcoming"].includes(e.discoverProp)},data:function(){return{props:["popular","top_rated","upcoming"],discoverMovieCollection:[],baseURL:"https://api.themoviedb.org/3/movie",currentPage:1,totalPages:null,apiKey:"2f606ab1225d921304a26a2c089d5062",hide:!0}},methods:{getPage:function(t){this.currentPage=parseInt(t),this.discoverMovieCollection=[],this.fetchData(this.apiURL),this.$el.scrollIntoView({behavior:"smooth"})},fetchData:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,data;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.hide=!1,n.prev=1,n.next=4,fetch(t);case 4:return r=n.sent,n.next=7,r.json();case 7:(data=n.sent).results.forEach((function(t){e.discoverMovieCollection.push({title:t.title,poster:t.poster_path,id:t.id,overview:t.overview,rating:t.vote_average})})),e.totalPages=data.total_pages,n.next=16;break;case 12:n.prev=12,n.t0=n.catch(1),console.log("an error occured while fetching data",n.t0),console.log(t);case 16:e.hide=!0;case 17:case"end":return n.stop()}}),n,null,[[1,12]])})))()}},mounted:function(){var t=this;this.props.forEach((function(e){t.$route.params.discoverProp===e&&t.fetchData(t.baseURL+"/".concat(e,"?api_key=").concat("2f606ab1225d921304a26a2c089d5062"))}))},computed:{apiURL:function(){return"".concat(this.baseURL,"/").concat(this.$route.params.discoverProp,"?api_key=").concat(this.apiKey,"&page=").concat(this.currentPage.toString())}}}),c=(n(223),n(23)),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container-fluid mt-3 class mb-4"},[r("div",{staticClass:"\n      container-lg\n      text-center\n      d-flex\n      justify-content-center\n      align-items-center\n      flex-column\n    "},[r("div",{staticClass:"spinner-grow text-warning",class:{"d-none":t.hide},attrs:{role:"status"}},[r("span",{staticClass:"visually-hidden"},[t._v("Loading...")])]),t._v(" "),r("div",{staticClass:"row d-flex justify-content-around align-items-stretch w-100",class:{"d-none":!t.hide}},[r("h1",{staticClass:"fs-3 pt-5 mb-5 fw-bold text-start prop-title"},[t._v("\n        "+t._s(t.$route.params.discoverProp.toUpperCase().replace("_"," "))+"\n      ")]),t._v(" "),t._l(t.discoverMovieCollection,(function(e){return r("div",{key:e.id,staticClass:"col-12 col-xxl-3 col-xl-3 col-lg-3 col-md-4 col-sm-5 p-3",attrs:{id:"movieColumn"}},[r("div",{staticClass:"position-relative"},[r("nuxt-link",{attrs:{to:{name:"movie-id",params:{id:e.id}}}},[e.poster?r("img",{staticClass:"img-fluid rounded-3 poster-img",attrs:{src:"https://image.tmdb.org/t/p/w400"+e.poster,alt:e.title+" poster"}}):r("img",{staticClass:"img-fluid rounded-3 poster-img",attrs:{src:n(210),alt:e.title+" poster"}}),t._v(" "),r("div",{staticClass:"overview-container line-clamp shadow-lg"},[r("div",{staticClass:"overview-text"},[r("h5",{staticClass:"text-center"},[t._v("Overview")]),t._v(" "),r("hr",{staticClass:"text-warning"}),t._v("\n                "+t._s(e.overview)+"\n              ")])])])],1),t._v(" "),r("h5",{staticClass:"mt-2"},[t._v(t._s(e.title))]),t._v(" "),r("Rating",{attrs:{rating:e.rating,movieId:e.id}})],1)}))],2)]),t._v(" "),r("nav",{staticClass:"d-flex justify-content-center align-items-center py-5"},[r("Pagination",{attrs:{"current-page":t.currentPage,"total-pages":t.totalPages},on:{"next-page":t.getPage,"previous-page":t.getPage,"jump-to-page":t.getPage}})],1)])}),[],!1,null,"0e519681",null);e.default=component.exports;installComponents(component,{Rating:n(208).default,Pagination:n(209).default,Nav:n(112).default})}}]);